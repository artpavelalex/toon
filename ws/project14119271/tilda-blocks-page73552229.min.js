function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t1196_init(recid){var rec=document.getElementById('rec'+recid);if(!rec)return;var allrecordsElement=document.getElementById('allrecords');var isEditMode=allrecordsElement&&allrecordsElement.getAttribute('data-tilda-mode')==='edit';var slider=rec.querySelector('.t1196__slider');if(!slider)return;var slides=Array.from(slider.querySelectorAll('.t1196__item'));if(!slides.length)return;var prevButton=rec.querySelector('.t1196__control_left');var nextButton=rec.querySelector('.t1196__control_right');var sliderAnimationInAction=!1;var buttonClickHandler=function(direction){if(sliderAnimationInAction)return;sliderAnimationInAction=!0;t1196_nextSlide(slider,slides,direction).then(function(){sliderAnimationInAction=!1})};if(prevButton){prevButton.addEventListener('click',buttonClickHandler.bind(null,'backwards'))}
if(nextButton){nextButton.addEventListener('click',buttonClickHandler.bind(null,'forwards'))}
var slideTimeout=parseInt(slider.getAttribute('data-slide-timeout'),10)||0;var timeoutIdObj={timeoutId:null,};var stopSlider=t1196_stopAutoSlides.bind(null,timeoutIdObj);var startSlider=t1196_startAutoSlides.bind(null,slider,slides,slideTimeout,timeoutIdObj);if(slideTimeout){slider.addEventListener('mouseenter',stopSlider);slider.addEventListener('mouseleave',startSlider);slider.addEventListener('mousemove',stopSlider,{once:!0});slider.addEventListener('touchstart',stopSlider);var addButtonListener=function(button,stop,start){button.addEventListener('mouseenter',stop);button.addEventListener('mouseleave',start);button.addEventListener('focus',stop);button.addEventListener('blur',start)};if(prevButton){addButtonListener(prevButton,stopSlider,startSlider)}
if(nextButton){addButtonListener(nextButton,stopSlider,startSlider)}
var intersectionObserver=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){slider.setAttribute('data-visible','true');startSlider()}else{slider.removeAttribute('data-visible');stopSlider()}})},{threshold:0.1});intersectionObserver.observe(slider)}
slider.addEventListener('wheel',t1196_debounce(t1196_handleWheel.bind(null,slider,slides),300));if(!isEditMode){var scrollConfig={startScrollLeft:0,startClientX:0,isDragging:!1,};var MIN_DELTA=10;var handleMouseMove=function(event){event.preventDefault();var deltaX=event.clientX-scrollConfig.startClientX;if(scrollConfig.isDragging){slider.scrollLeft=scrollConfig.startScrollLeft-deltaX*1.5;slider.dispatchEvent(new Event('wheel'))}else if(Math.abs(deltaX)>MIN_DELTA){slider.classList.add('t1196__slider_dragging');scrollConfig.isDragging=!0}};var handleMouseUp=function(){document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);scrollConfig.startScrollLeft=0;scrollConfig.startClientX=0;scrollConfig.isDragging=!1;document.documentElement.style.removeProperty('user-select');document.documentElement.style.removeProperty('-webkit-user-select');slider.classList.remove('t1196__slider_dragging')};slider.addEventListener('mousedown',function(event){scrollConfig.startScrollLeft=slider.scrollLeft;scrollConfig.startClientX=event.clientX;document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);document.documentElement.style.setProperty('user-select','none');document.documentElement.style.setProperty('-webkit-user-select','none')})}}
function t1196_startAutoSlides(slider,slides,slideTimeout,timeoutIdObj){if(timeoutIdObj.timeoutId||slider.getAttribute('data-visible')!=='true'||slider.getAttribute('data-video-playing')==='true')
return;timeoutIdObj.timeoutId=window.setTimeout(function(){t1196_nextSlide(slider,slides,'forwards').then(function(){if(!timeoutIdObj.timeoutId)return;timeoutIdObj.timeoutId=null;t1196_startAutoSlides(slider,slides,slideTimeout,timeoutIdObj)})},slideTimeout)}
function t1196_stopAutoSlides(timeoutIdObj){window.clearTimeout(timeoutIdObj.timeoutId);timeoutIdObj.timeoutId=null}
function t1196_nextSlide(slider,slides,direction='forwards'){var currentSlideIndex=slides.findIndex(function(slide){return slide.getAttribute('aria-current')==='true'});if(currentSlideIndex===-1)currentSlideIndex=0;var factor=direction==='forwards'?1:-1;var nextSlideIndex=currentSlideIndex+factor;if(nextSlideIndex>=slides.length)nextSlideIndex=0;if(nextSlideIndex<0)nextSlideIndex=slides.length-1;var currentSlide=slides[currentSlideIndex];var isScrolled=slider.scrollWidth-slider.scrollLeft-slider.clientWidth<1;var nextSlide=isScrolled&&direction==='forwards'?slides[0]:slides[nextSlideIndex];currentSlide.setAttribute('aria-current','false');nextSlide.setAttribute('aria-current','true');var sliderStyle=window.getComputedStyle(slider);var sliderPadding=parseInt(sliderStyle.getPropertyValue('padding-left'),10)||0;var nextSlideLeft=nextSlide.offsetLeft-sliderPadding;slider.scrollLeft=nextSlideLeft;return new Promise(function(resolve){var ANIMATION_DURATION=600;window.setTimeout(resolve,ANIMATION_DURATION)})}
function t1196_handleWheel(slider,slides){var oldSlideIndex=slides.findIndex(function(slide){return slide.getAttribute('aria-current')==='true'});if(oldSlideIndex===-1)oldSlideIndex=0;var oldSlide=slides[oldSlideIndex];oldSlide.setAttribute('aria-current','false');var scrollLeft=slider.scrollLeft;var sliderStyle=window.getComputedStyle(slider);var sliderPadding=parseInt(sliderStyle.getPropertyValue('padding-left'),10)||0;var slidesLeft=slides.map(function(slide){return slide.offsetLeft-scrollLeft});var slideIndexesMap={};var positiveSlidesLeft=slidesLeft.filter(function(left,index){if(left>=sliderPadding-1){slideIndexesMap[index]=left;return!0}
return!1});var minLeft=Math.min.apply(null,positiveSlidesLeft);var newSlideIndex=-1;for(var entry of Object.entries(slideIndexesMap)){if(entry[1]===minLeft){newSlideIndex=+entry[0];break}}
if(newSlideIndex===-1)newSlideIndex=0;var newSlide=slides[newSlideIndex];newSlide.setAttribute('aria-current','true')}
function t1196_debounce(callee,timeoutMs){var timeoutId;return function(){var args=Array.prototype.slice.call(arguments);clearTimeout(timeoutId);timeoutId=setTimeout(function(){callee.apply(null,args)},timeoutMs)}}
function t982_init(recId){var rec=document.getElementById('rec'+recId);if(!rec)return;var container=rec.querySelector('.t982');if(!container)return;var itemWrappers=rec.querySelectorAll('.t982__itemwrapper');var socials=rec.querySelectorAll('.t982__socials');for(var i=0;i<socials.length;i++){var social=socials[i];var socialAttr=social.getAttribute('data-social-links');var links=[];social.removeAttribute('data-social-links');if(socialAttr){links=socialAttr.split(',');for(var j=0;j<links.length;j++){t982_addSocialsItem(links[j].trim(),social)}}}
t982_setEqualHeight(itemWrappers);if(typeof jQuery!=='undefined'){$(container).bind('displayChanged',function(){t982_setEqualHeight(itemWrappers)})}else{container.addEventListener('displayChanged',t_throttle(function(){t982_setEqualHeight(itemWrappers)}))}}
function t982_addSocialsItem(link,socialWrapper){var item=t982_findSocialsItem(link);if(item){var block='';block='<div class="t982__socials-item">';block+='<a href="'+link+'"  class="t982__socials-link" target="_blank" rel="nofollow noopener noreferrer">';block+=item.title;block+='</a>';block+='</div>';socialWrapper.append(block)}}
function t982_findSocialsItem(link){var socials=[{title:'Facebook',str:['facebook','fb.com'],},{title:'Twitter',str:['twitter'],},{title:'Vkontakte',str:['vk.com','vk.me'],},{title:'Odnoklassniki',str:['ok.ru'],},{title:'Behance',str:['behance'],},{title:'Vimeo',str:['vimeo'],},{title:'YouTube',str:['youtube','youtu.be'],},{title:'Instagram',str:['instagram'],},{title:'Pinterest',str:['pinterest'],},{title:'LinkedIn',str:['linkedin'],},{title:'SoundCloud',str:['soundcloud'],},{title:'Telegram',str:['telegram','t.me'],},{title:'WhatsApp',str:['wa.me'],},];var socialsItem;Array.prototype.forEach.call(socials,function(item){Array.prototype.forEach.call(item.str,function(s){if(link.indexOf(s)!==-1)socialsItem=item})});return socialsItem}
function t982_setEqualHeight(itemWrappers){var maxHeight=0;for(var i=0;i<itemWrappers.length;i++){itemWrappers[i].style.height=''}
for(var i=0;i<itemWrappers.length;i++){var itemWrapper=itemWrappers[i];var itemWrapperStyle=getComputedStyle(itemWrapper,null);var itemWrapperPaddingTop=parseInt(itemWrapperStyle.paddingTop)||0;var itemWrapperPaddingBottom=parseInt(itemWrapperStyle.paddingBottom)||0;var itemWrapperHeight=itemWrapper.clientHeight-(itemWrapperPaddingTop+itemWrapperPaddingBottom);if(itemWrapperHeight>maxHeight)maxHeight=itemWrapperHeight}
if(window.innerWidth>=960){for(var i=0;i<itemWrappers.length;i++){itemWrappers[i].style.height=maxHeight+'px'}}else{for(var i=0;i<itemWrappers.length;i++){itemWrappers[i].style.height='auto'}}}
function t121_init(recid){var rec=document.getElementById('rec'+recid);if(!rec)return;var wrapperBlock=rec.querySelector('.t121');var videoLazy=rec.querySelector('.t-video-lazyload');if(videoLazy){t_onFuncLoad('t_video_lazyload__setHeight',function(){var videoHeight=videoLazy.getAttribute('data-videolazy-height');if(videoHeight!=='540px')return;t_video_lazyload__setHeight(videoLazy);window.addEventListener('resize',function(){t_video_lazyload__setHeight(videoLazy)});if(!wrapperBlock)return;wrapperBlock.addEventListener('displayChanged',function(){t_video_lazyload__setHeight(videoLazy)})})}
var videoCarrier=rec.querySelector('.t-video-carier');if(!videoCarrier)return;var screenMin=rec.getAttribute('data-screenmin');var screenMax=rec.getAttribute('data-screenmax');var isLoad=!1;if(window.innerWidth<parseInt(screenMin,10)||window.innerWidth>parseInt(screenMax,10))return;window.addEventListener('scroll',t_throttle(function(){if(!isLoad){var videoCarrierOffsetTop=videoCarrier.getBoundingClientRect().top+window.pageYOffset;var videoCarrierHeight=parseInt(window.getComputedStyle(videoCarrier).height,10);var windowScrollTop=window.pageYOffset;var windowHeight=window.innerHeight;if(windowScrollTop+windowHeight>videoCarrierOffsetTop-500&&windowScrollTop<videoCarrierOffsetTop+videoCarrierHeight+501){t_onFuncLoad('processYoutubeVideo',function(){processYoutubeVideo(videoCarrier,videoCarrier.style.height)});isLoad=!0}}}));var event=document.createEvent('HTMLEvents');event.initEvent('scroll',!0,!1);window.dispatchEvent(event)}